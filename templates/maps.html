
<!DOCTYPE html>
<html>
<head>

  <meta charset="utf-8" />
  <link rel="apple-touch-icon" sizes="76x76" href="../static/assets/img/apple-icon.png">
  <link rel="icon" type="image/png" href="../static/assets/img/favicon.png">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <title>
    The Vegan Dinasour    الديناصور النباتي
  </title>
  <meta name="viewport" content="width=device-width,height=device-height,initial-scale=1.0"/>
  <!--     Fonts and icons     -->
  <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:400,700|Material+Icons" />
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css">
  <!-- CSS Files -->
  <link href="../static/assets/css/material-kit.css?v=2.2.0" rel="stylesheet" />
  <!-- CSS Just for demo purpose, don't include it in your project -->
  <link href="../static/assets/demo/demo.css" rel="stylesheet" />
  <link href="../static/assets/demo/vertical-nav.css" rel="stylesheet" />

  <link rel="stylesheet" href="https://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">


    <!--script src="../static/assets/js/core/jquery.min.js" type="text/javascript"></script-->
  <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
  <!--link rel="stylesheet" href="/resources/demos/style.css"-->
  <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

  <script src="../static/assets/js/core/popper.min.js" type="text/javascript"></script>
  <script src="../static/assets/js/core/bootstrap-material-design.min.js" type="text/javascript"></script>
  <script src="../static/assets/js/plugins/moment.min.js"></script>
  <!--  Plugin for the Datepicker, full documentation here: https://github.com/Eonasdan/bootstrap-datetimepicker -->
  <script src="../static/assets/js/plugins/bootstrap-datetimepicker.js" type="text/javascript"></script>
  <!--  Plugin for the Sliders, full documentation here: http://refreshless.com/nouislider/ -->
  <script src="../static/assets/js/plugins/nouislider.min.js" type="text/javascript"></script>
  <!--  Google Maps Plugin    -->
  <!--script src="https://maps.googleapis.com/maps/api/js?key=YOUR_KEY_HERE"></script-->
  <!--  Plugin for Tags, full documentation here: https://github.com/bootstrap-tagsinput/bootstrap-tagsinputs  -->
  <script src="../static/assets/js/plugins/bootstrap-tagsinput.js"></script>
  <!--  Plugin for Select, full documentation here: http://silviomoreto.github.io/bootstrap-select -->
  <script src="../static/assets/js/plugins/bootstrap-selectpicker.js" type="text/javascript"></script>
  <!--  Plugin for Fileupload, full documentation here: http://www.jasny.net/bootstrap/javascript/#fileinput -->
  <script src="../static/assets/js/plugins/jasny-bootstrap.min.js" type="text/javascript"></script>
  <!--  Plugin for Small Gallery in Product Page -->
  <!--script src="../static/assets/js/plugins/jquery.flexisel.js" type="text/javascript"></script-->
  <!-- Plugins for presentation and navigation  -->
  <script src="../static/assets/demo/modernizr.js" type="text/javascript"></script>
  <script src="../static/assets/demo/vertical-nav.js" type="text/javascript"></script>
  <!-- Place this tag in your head or just before your close body tag. -->
  <script async defer src="https://buttons.github.io/buttons.js"></script>
  <!-- Js With initialisations For Demo Purpose, Don't Include it in Your Project -->
  <script src="../static/assets/demo/demo.js" type="text/javascript"></script>
  <!-- Control Center for Material Kit: parallax effects, scripts for the example pages etc -->
  <script src="../static/assets/js/material-kit.js?v=2.2.0" type="text/javascript"></script>
</head>
  <title></title>
  <script language="javascript">
    //alert("{{blocked_dates[2]}}")
    var nn = "{{blocked_dates[3]}}"
    //alert(nn)
    var array = ["2020-10-27","2020-11-17","2021-01-01","2022-01-01", "{{blocked_dates[2]}}", "2020-06-30"]
    //alert("{{blocked_dates}}")
    {% for bd in blocked_dates %}
      array.push("{{bd}}")
    {% endfor %}

    //alert(array)
      $(document).ready(function () {
          $("#datepicker").datepicker({
            beforeShowDay: function(date){
              var day = date.getDay();
      var string = jQuery.datepicker.formatDate('yy-mm-dd', date);
      return [ day != 5 && day != 6 && array.indexOf(string) == -1, 'highlight', "Available" ]
  },
              firstDay: 0,
              minDate: 0,
              showOtherMonths: true,
              selectOtherMonths: true,
              autoclose: true,
              changeMonth: true,
              changeYear: true,
              showAnim: "slideDown",
              showOptions: {direction: "up"}

          });

      });
  </script>

  <script>

    console.log("Screen dimentions")
    console.log(screen.height)
    console.log(screen.width)
    alert("Screen dimentions")
    alert(screen.height)
    alert(screen.width)

    if(screen.height == 667){
      //window.location.href = "http://fd7f5974c9af.ngrok.io/maps-mobile";
    }



  </script>

  <style>

    /* Smartphones (portrait and landscape) ----------- */
@media only screen
and (min-device-width : 320px)
and (max-device-width : 480px) {
/* Styles */
}

/* Smartphones (landscape) ----------- */
@media only screen
and (min-width : 321px) {
/* Styles */
}

/* Smartphones (portrait) ----------- */
@media only screen
and (max-width : 320px) {
/* Styles */
}
.blue-highlight {
  background-color: green !important;
  color: green !important;
}

.highlight a{
background-color: #29f274 !important;
color: #ffffff !important;
}
.ui-datepicker td.ui-state-disabled>span{background:#FA8072;}
.ui-datepicker td.ui-state-disabled{opacity:100;}

.box{
width:20px;
height:20px;
display: inline-block;
vertical-align: middle;
}
.explanation {
  margin-left: 5px;
  vertical-align: middle;
}
.red{
background:#FA8072;
}
.green{
background:#0f0;
}
.blue{
background:#00f;
}

ul {
  margin: 20px;
}

.input-color {
  position: relative;
}
.input-color input {
  padding-left: 20px;
}
.input-color .color-box {
  width: 10px;
  height: 10px;
  display: inline-block;
  background-color: #ccc;
  position: absolute;
  left: 5px;
  top: 5px;
}



    #map-label {
      position: relative;
    padding: 0;
    margin-top:0;
margin-right:auto;
margin-bottom:0;
margin-left:auto;
     top:-615px;
     margin: 0 auto;
     width: 50%;
    }
    .center-screen {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  min-height: 100vh;
}

.button-hor-centre{
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
}
    #location{
      position: relative;
      padding: 0;
    margin-top:0;
margin-right:auto;
margin-bottom:0;
margin-left:auto;
    }
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
    }

    div.fixed {
  position: fixed;
  bottom: 14px;
  right: 0;
  left: 0;
  width: 300px;
}

#inner {
  width: 50%;
  margin: 0 auto;
}

div.fixed {
  position: fixed;
  bottom: 14px;
  right: 0;
  left: 0;
  width: 300px;
}

.ui-datepicker{z-index: 99 !important};

  </style>

<style>.ui-datepicker {font-size:70%; }</style>


<body class="pricing sidebar-collapse" style="background-image: url(../static/assets/img/LONGLIVE10.jpg);">
  <nav class="navbar navbar-color-on-scroll navbar-transparent    fixed-top  navbar-expand-lg " color-on-scroll="100" id="sectionsNav" style="height:15%; left: 0; right: 0; background-image: url(../static/assets/img/header11.jpg)" >
    <div class="container">
      <div class="navbar-translate">



  
        <form class="form" method="POST" action="/proceed">
  
  
        <input hidden style="box-sizing: border-box; border-style: solid; border-color: #000000; background-color: white;" class="form-control" placeholder="Address..." oninput="this.className = ''" name="addr" id="addr" >
        <input hidden style="box-sizing: border-box; border-style: solid; border-color: #000000; background-color: white;" class="form-control" placeholder="Long..." oninput="this.className = ''" name="long" id="long" >
        <input hidden style="box-sizing: border-box; border-style: solid; border-color: #000000; background-color: white;" class="form-control" placeholder="Lat..." oninput="this.className = ''" name="lat" id="lat" >
  
       <!---- z-index: -1;-->
       <div class="fixed">
        <button  disabled = true type="submit" id="loc" type="button" class="btn btn-danger bmd-btn-fab navigation">
          <i class="material-icons">shopping_cart</i>
        </button>
      </div>
  
           </form>
  
        
          <div>

          <div>
  <!--a href="/shoppingcart" target="_blank" class="btn btn-round btn-block btn-sm " style ="position: sticky; top: 0; right: 0; left: 0; transform-origin: top right;">

    <i class="material-icons">shopping_cart</i> Buy Now
</a-->

  </div>

        <!--div class="navbar-brand">
          <-a href="#home" class="active" class="navbar-brand">Home</a>
          <img src="../static/assets/img/vegan-dino-bg.ico" class="active">

        </div-->

        {% if request.MOBILE %}

        <ul class="navbar-nav mx-auto">

          <li><img src="../static/assets/img/vegan-dino-bg.ico"></li>

        </ul>

        {% else %}

        <a href="/pricing.html">
          <img src="../static/assets/img/vegan-dino-bg(2).ico" class="navbar-nav mx-auto" style="position: absolute; right: 0px; left: 0px; top: -12px; transform-origin: top center;">
        </a>


        {% endif %}
        <!--a href="/shoppingcart" target="_blank" class="btn btn-round btn-block btn-sm " style ="background-color: #94df69; position: absolute; right: 0px; top: 0px; transform-origin: top right;"-->


            <!--a href="/shoppingcart" target="_blank" class="btn btn-round btn-block btn-sm " style ="background-color: #94df69; position: absolute; right: auto; top: auto; bottom: auto; left: auto; transform-origin: top right;">

                <i class="material-icons">shopping_cart</i> Buy Now
          </a-->
        <!--a class="navbar-brand" href="https://demos.creative-tim.com/material-kit-pro/index.html" style="color:black";>
          The Vegan Dinasour </a-->
          <!--img src="../static/assets/img/vd-resized.png" width="50" height="40" style="position: relative;
          top:-40px; margin-left:55px;
        margin-right: -55px;display: block; width: 50%; height: 50%;" -->


        <div class="collapse navbar-collapse">
          <ul class="navbar-nav ml-auto">

            <li class="button-container nav-item iframe-extern">
              <div>


                            <!--a href="/shoppingcart" target="_blank" class="btn btn-round btn-block btn-sm " style ="background-color: #94df69; position: absolute; right: auto; top: auto; bottom: auto; left: auto; transform-origin: top right;">

                <i class="material-icons">shopping_cart</i> Buy Now
          </a-->

                <!--img src="../static/assets/img/vegan-dino-bg.ico"-->
                <!--a href="/shoppingcart" target="_blank" class="btn btn-round btn-block btn-sm " style ="background-color: #94df69; display: block;
                margin-left: 1px; right: -1000px; top: -40px"-->

                <!--a href="/shoppingcart" target="_blank" class="btn btn-round btn-block btn-sm " style ="background-color: #94df69;">

                <i class="material-icons">shopping_cart</i> Buy Now
                </a-->
              </div>
            </li>
          </ul>
        </div>


      </div>
        </ul>
      </div>
    </div>
  </nav>



      <div id="map"></div>
  





  <script>
    let map;


    function initMap1() {
      map = new google.maps.Map(document.getElementById('map'), {
        center: {lat: 21.452190359158408, lng: 39.20488498374456},
        zoom: 11
      });
    }

  </script>

<script>

function getReverseGeocodingData(lat, lng) {
    var latlng = new google.maps.LatLng(lat, lng);
    // This is making the Geocode request
    var geocoder = new google.maps.Geocoder();
    geocoder.geocode({ 'latLng': latlng }, function (results, status) {
        if (status !== google.maps.GeocoderStatus.OK) {
            alert(status);
        }
        // This is checking to see if the Geoeode Status is OK before proceeding
        if (status == google.maps.GeocoderStatus.OK) {
            console.log(results);
            var address = (results[0].formatted_address);
            console.log(address)
            document.getElementById("addr").innerHTML = address;
            document.getElementById("addr").value = address;
        }
    });
}
    // define global array to store markers added
    let markersArray = [];
    var GeoMarker;

    function initMap() {
      map = new google.maps.Map(document.getElementById('map'), {
        center: {lat: 21.452190359158408, lng: 39.20488498374456},
        zoom: 11
        //GeoMarker = new GeolocationMarker(map)

      });


      map.addListener('click', function(e) {
      console.log(e);
      addMarker(e.latLng);
      });
      infoWindow = new google.maps.InfoWindow;

// Try HTML5 geolocation.
if (navigator.geolocation) {
  navigator.geolocation.getCurrentPosition(function(position) {
    var pos = {
      lat: position.coords.latitude,
      lng: position.coords.longitude
    };

    infoWindow.setPosition(pos);
    infoWindow.setContent('Location found.');
    infoWindow.open(map);
    map.setCenter(pos);
  }, function() {
    handleLocationError(true, infoWindow, map.getCenter());
  });
} else {
  // Browser doesn't support Geolocation
  handleLocationError(false, infoWindow, map.getCenter());
}
}

 function handleLocationError(browserHasGeolocation, infoWindow, pos) {
        infoWindow.setPosition(pos);
        infoWindow.setContent(browserHasGeolocation ?
                              'Error: The Geolocation service failed.' :
                              'Error: Your browser doesn\'t support geolocation.');
        infoWindow.open(map);
      }

    // define function to add marker at given lat & lng
    function addMarker(latLng) {
       if (markersArray.length == 0){
           console.log("NO elements yet!!")
           let marker = new google.maps.Marker({
          map: map,
          position: latLng,
          draggable: true
        });
        markersArray.push(marker);
        var bearings = ["NE", "E", "SE", "S", "SW", "W", "NW", "N"];
        var point1 = new google.maps.LatLng(21.57791121003885, 39.19297593342727);
        var point2 = new google.maps.LatLng(markersArray[0].position.lat(), markersArray[0].position.lng());
        var heading = google.maps.geometry.spherical.computeHeading(point1,point2);
        var index = heading - 22.5;
        if (index < 0)
          index += 360;
        index = parseInt(index / 45);
        console.log(heading)
        console.log(bearings[index])
        getReverseGeocodingData(markersArray[0].position.lat(), markersArray[0].position.lng())
        console.log("_______________________________________________")
        document.getElementById("loc").disabled = false;
        let p = document.getElementById('sub');
        //p.removeAttribute("hidden");
        //show();
        //myFunction();
        document.getElementById("lat").value = markersArray[0].position.lat();
        document.getElementById("long").value = markersArray[0].position.lng();
        console.log("Testiiiing!!")
        console.log(markersArray[0].position.lat())
        console.log(markersArray[0].position.lng())
       }else{
        markersArray[0].setPosition(latLng);
        console.log(markersArray[0].position.lat())
        console.log(markersArray[0].position.lng())

        var bearings = ["NE", "E", "SE", "S", "SW", "W", "NW", "N"];
        var point1 = new google.maps.LatLng(21.57791121003885, 39.19297593342727);
        var point2 = new google.maps.LatLng(markersArray[0].position.lat(), markersArray[0].position.lng());
        var heading = google.maps.geometry.spherical.computeHeading(point1,point2);
        var index = heading - 22.5;
        if (index < 0)
          index += 360;
        index = parseInt(index / 45);
        console.log(heading)
        console.log(bearings[index])
        getReverseGeocodingData(markersArray[0].position.lat(), markersArray[0].position.lng())
        document.getElementById("lat").value = markersArray[0].position.lat();
        document.getElementById("long").value = markersArray[0].position.lng();
        console.log("_______________________________________________")


        //console.log(markersArray)
        //console.log(latLng)
        //console.log(">>>>>>")
        //console.log(markersArray[0])
        //console.log(markersArray[0].position)
        //store the marker object drawn on map in global array
        //markersArray.pop()
        //markersArray.push(marker);
       }


    }

    function show(){
      x = document.getElementsByTagName('button');
      if(x[0].style.visibility === "hidden"){
        x[0].style.visibility = "visible"   
      }else{
        x[0].style.visibility = "hidden"  
      }
    }

    function myFunction() {
  var element = document.getElementById("loc");
  element.className = element.className.replace("btn btn-danger bmd-btn-fab navigation", "btn btn-success bmd-btn-fab navigation");
}

  </script>

  <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAUa0okRbIHkFj-vYEr_oDhW3RkRZ2Arxg&callback=initMap&libraries=geometry,places&sensor=false">
  </script>




</body>
</html>


